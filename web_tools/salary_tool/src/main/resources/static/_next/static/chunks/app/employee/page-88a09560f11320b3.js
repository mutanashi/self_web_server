(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{114:(e,t,a)=>{Promise.resolve().then(a.bind(a,253))},253:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(5155),r=a(2115),l=a(5731);function n(){let[e,t]=(0,r.useState)("Ready."),[a,n]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[x,y]=(0,r.useState)([]),b=(0,r.useMemo)(()=>new Date,[]);(0,r.useEffect)(()=>{let e=new Date(b.getFullYear(),b.getMonth(),1).toISOString().slice(0,10),t=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().slice(0,10);n(e),c(t),d(String(b.getFullYear())),p(String(b.getMonth()+1))},[b]);let j=e=>t("string"==typeof e?e:JSON.stringify(e,null,2)),N=async()=>{j(await (0,l.H2)("/api/employee/clock-in",{method:"POST",auth:!0}))},g=async()=>{let e=new URLSearchParams;a&&e.set("start",a),o&&e.set("end",o);let t=await (0,l.H2)("/api/employee/attendances?".concat(e.toString()),{auth:!0});j(t),t.ok&&Array.isArray(t.body)&&m(t.body)},f=async()=>{let e=new URLSearchParams;i&&e.set("year",i),h&&e.set("month",h);let t=await (0,l.H2)("/api/employee/salaries?".concat(e.toString()),{auth:!0});j(t),t.ok&&Array.isArray(t.body)&&y(t.body)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Employee"}),(0,s.jsxs)("section",{className:"border rounded p-4 space-y-2",children:[(0,s.jsx)("h2",{className:"font-medium",children:"Clock-in"}),(0,s.jsx)("button",{className:"border px-2 py-1",onClick:N,children:"Clock In (now)"})]}),(0,s.jsxs)("section",{className:"border rounded p-4 space-y-3",children:[(0,s.jsx)("h2",{className:"font-medium",children:"Attendances"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center flex-wrap",children:[(0,s.jsx)("input",{className:"border px-2 py-1",type:"date",value:a,onChange:e=>n(e.target.value)}),(0,s.jsx)("input",{className:"border px-2 py-1",type:"date",value:o,onChange:e=>c(e.target.value)}),(0,s.jsx)("button",{className:"border px-2 py-1",onClick:g,children:"Fetch"})]}),(0,s.jsx)("div",{className:"overflow-auto",children:(0,s.jsxs)("table",{className:"min-w-[480px] border text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"border px-2 py-1 text-left",children:"Date"}),(0,s.jsx)("th",{className:"border px-2 py-1 text-left",children:"Check-in"})]})}),(0,s.jsx)("tbody",{children:u.map((e,t)=>{var a,r;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-2 py-1",children:null!=(a=e.date)?a:""}),(0,s.jsx)("td",{className:"border px-2 py-1",children:null!=(r=e.checkInTime)?r:""})]},t)})})]})})]}),(0,s.jsxs)("section",{className:"border rounded p-4 space-y-3",children:[(0,s.jsx)("h2",{className:"font-medium",children:"Salaries (This Month)"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center flex-wrap",children:[(0,s.jsx)("input",{className:"border px-2 py-1 w-28",type:"number",placeholder:"year",value:i,onChange:e=>d(e.target.value)}),(0,s.jsx)("input",{className:"border px-2 py-1 w-28",type:"number",placeholder:"month",value:h,onChange:e=>p(e.target.value)}),(0,s.jsx)("button",{className:"border px-2 py-1",onClick:f,children:"Fetch"})]}),(0,s.jsx)("div",{className:"overflow-auto",children:(0,s.jsxs)("table",{className:"min-w-[480px] border text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"border px-2 py-1 text-left",children:"Year"}),(0,s.jsx)("th",{className:"border px-2 py-1 text-left",children:"Month"}),(0,s.jsx)("th",{className:"border px-2 py-1 text-left",children:"Amount"})]})}),(0,s.jsx)("tbody",{children:x.map((e,t)=>{var a,r,l;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-2 py-1",children:null!=(a=e.year)?a:""}),(0,s.jsx)("td",{className:"border px-2 py-1",children:null!=(r=e.month)?r:""}),(0,s.jsx)("td",{className:"border px-2 py-1",children:null!=(l=e.amount)?l:""})]},t)})})]})})]}),(0,s.jsxs)("section",{className:"border rounded p-4",children:[(0,s.jsx)("h2",{className:"font-medium",children:"Raw"}),(0,s.jsx)("pre",{className:"bg-gray-50 border rounded p-3 whitespace-pre-wrap text-sm",children:e})]})]})}},5731:(e,t,a)=>{"use strict";a.d(t,{H2:()=>d,KH:()=>o,W1:()=>n,WG:()=>i,il:()=>h});let s="salary.base",r="salary.jwt";function l(){return window.location.pathname.includes("/web_tools/salary_tool/")?"/web_tools/salary_tool":""}function n(){let e=localStorage.getItem(s),t=window.location.hostname;return e&&/^(https?:\/\/)?(localhost|127\.0\.0\.1)(:\d+)?(\/|$)/i.test(e)&&"localhost"!==t&&"127.0.0.1"!==t?(localStorage.removeItem(s),l()):null!=e?e:l()}function o(e){localStorage.setItem(s,e)}function c(){return localStorage.getItem(r)}function i(e){e?localStorage.setItem(r,e):localStorage.removeItem(r)}async function d(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:s="GET",body:r,auth:l=!1,headers:o={}}=a,i={...o},d="undefined"!=typeof FormData&&r instanceof FormData;if(d||(i["Content-Type"]=null!=(t=i["Content-Type"])?t:"application/json"),l){let e=c();e&&(i.Authorization="Bearer ".concat(e))}let h=await fetch(function(e){let t=n(),a=t?t.replace(/\/$/,""):"";return"".concat(a).concat(e)}(e),{method:s,headers:i,body:d?r:null!=r?JSON.stringify(r):void 0,cache:"no-store"}),p=await h.text(),u=null;try{u=p?JSON.parse(p):null}catch(e){u=p}return{status:h.status,ok:h.ok,body:u}}function h(){let e=c();return e?"".concat(e.slice(0,12),"â€¦"):"(none)"}}},e=>{e.O(0,[441,964,358],()=>e(e.s=114)),_N_E=e.O()}]);