(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{373:(e,a,s)=>{Promise.resolve().then(s.bind(s,3792))},3792:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var l=s(5155),t=s(2115),n=s(6874),o=s.n(n),r=s(5731);function c(){let[e,a]=(0,t.useState)(""),[s,n]=(0,t.useState)("(none)"),[c,i]=(0,t.useState)("Ready."),[d,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[h,x]=(0,t.useState)("");(0,t.useEffect)(()=>{a((0,r.W1)()),n((0,r.il)())},[]);let y=async()=>{i(JSON.stringify(await (0,r.H2)("/api/auth/register",{method:"POST",body:{username:h,email:d,password:m}}),null,2))},g=async()=>{let e=await (0,r.H2)("/api/auth/login",{method:"POST",body:{email:d,password:m}});if(i(JSON.stringify(e,null,2)),e.ok&&e.body&&"object"==typeof e.body&&e.body.token){let a=e.body.token;(0,r.WG)(a),n((0,r.il)())}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Salary System"}),(0,l.jsxs)("span",{className:"text-gray-500",children:["JWT: ",s]}),(0,l.jsx)("button",{className:"ml-auto border px-2 py-1",onClick:()=>{(0,r.WG)(""),n((0,r.il)()),i("Logged out")},children:"Logout"})]}),(0,l.jsxs)("section",{className:"border rounded p-4",children:[(0,l.jsx)("h2",{className:"font-medium mb-2",children:"Environment"}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("label",{className:"text-sm",children:"Base URL"}),(0,l.jsx)("input",{className:"border px-2 py-1 w-80",value:e,onChange:e=>a(e.target.value),placeholder:"default: same origin"}),(0,l.jsx)("button",{className:"border px-2 py-1",onClick:()=>{(0,r.KH)(e),i("Saved base: ".concat(e||"(same origin)"))},children:"Save"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty to use same origin."})]}),(0,l.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"border rounded p-4 space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium",children:"Register"}),(0,l.jsx)("input",{className:"border px-2 py-1 w-full",placeholder:"username",value:h,onChange:e=>x(e.target.value)}),(0,l.jsx)("input",{className:"border px-2 py-1 w-full",type:"email",placeholder:"email",value:d,onChange:e=>u(e.target.value)}),(0,l.jsx)("input",{className:"border px-2 py-1 w-full",type:"password",placeholder:"password",value:m,onChange:e=>p(e.target.value)}),(0,l.jsx)("button",{className:"border px-2 py-1",onClick:y,children:"Register"})]}),(0,l.jsxs)("div",{className:"border rounded p-4 space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium",children:"Login"}),(0,l.jsx)("input",{className:"border px-2 py-1 w-full",type:"email",placeholder:"email",value:d,onChange:e=>u(e.target.value)}),(0,l.jsx)("input",{className:"border px-2 py-1 w-full",type:"password",placeholder:"password",value:m,onChange:e=>p(e.target.value)}),(0,l.jsx)("button",{className:"border px-2 py-1",onClick:g,children:"Login"})]})]}),(0,l.jsxs)("section",{className:"border rounded p-4",children:[(0,l.jsx)("h2",{className:"font-medium",children:"Quick Links"}),(0,l.jsxs)("ul",{className:"list-disc ml-6 space-y-1",children:[(0,l.jsx)("li",{children:(0,l.jsx)(o(),{className:"text-blue-600 underline",href:"/employee/",children:"Employee"})}),(0,l.jsx)("li",{children:(0,l.jsx)(o(),{className:"text-blue-600 underline",href:"/boss/",children:"Boss"})}),(0,l.jsx)("li",{children:(0,l.jsx)(o(),{className:"text-blue-600 underline",href:"/developer/",children:"Developer"})})]})]}),(0,l.jsxs)("section",{className:"border rounded p-4",children:[(0,l.jsx)("h2",{className:"font-medium",children:"Raw Response"}),(0,l.jsx)("pre",{className:"bg-gray-50 border rounded p-3 whitespace-pre-wrap text-sm",children:c})]})]})}},5731:(e,a,s)=>{"use strict";s.d(a,{H2:()=>d,KH:()=>r,W1:()=>o,WG:()=>i,il:()=>u});let l="salary.base",t="salary.jwt";function n(){return window.location.pathname.includes("/web_tools/salary_tool/")?"/web_tools/salary_tool":""}function o(){let e=localStorage.getItem(l),a=window.location.hostname;return e&&/^(https?:\/\/)?(localhost|127\.0\.0\.1)(:\d+)?(\/|$)/i.test(e)&&"localhost"!==a&&"127.0.0.1"!==a?(localStorage.removeItem(l),n()):null!=e?e:n()}function r(e){localStorage.setItem(l,e)}function c(){return localStorage.getItem(t)}function i(e){e?localStorage.setItem(t,e):localStorage.removeItem(t)}async function d(e){var a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:l="GET",body:t,auth:n=!1,headers:r={}}=s,i={...r},d="undefined"!=typeof FormData&&t instanceof FormData;if(d||(i["Content-Type"]=null!=(a=i["Content-Type"])?a:"application/json"),n){let e=c();e&&(i.Authorization="Bearer ".concat(e))}let u=await fetch(function(e){let a=o(),s=a?a.replace(/\/$/,""):"";return"".concat(s).concat(e)}(e),{method:l,headers:i,body:d?t:null!=t?JSON.stringify(t):void 0,cache:"no-store"}),m=await u.text(),p=null;try{p=m?JSON.parse(m):null}catch(e){p=m}return{status:u.status,ok:u.ok,body:p}}function u(){let e=c();return e?"".concat(e.slice(0,12),"â€¦"):"(none)"}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=373)),_N_E=e.O()}]);